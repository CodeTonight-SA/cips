---
name: bash-command-safety
description: Using semicolon after command substitution causes parse error in eval contexts
status: Active
auto_generated: true
generation_date: 2025-12-03T10:35:52Z
source_pattern: semicolon-after-subshell
---

# Bash Command Safety

**Purpose:** Using semicolon after command substitution causes parse error in eval contexts

**Activation:** Automatically activates when bash-command-safety pattern is detected or user invokes `/bash-command-safety`.

**Status:** Active - Auto-generated from pattern detection

---

## Problem

Using semicolon after command substitution causes parse error in eval contexts

**Severity:** 
**Token Impact:** 

### Detected Occurrences

This pattern was detected in recent workflow history, triggering automatic skill generation.

---

## Solution



### Implementation Protocol

### Detection:

- Monitor for pattern: `semicolon-after-subshell`
- Alert when threshold exceeded
- Suggest alternative approach

### Prevention:

- Pre-execution validation gate
- Alternative path suggestion
- Token impact estimation

### Automation:

- Auto-apply remediation when safe
- Log prevention to metrics
- Update pattern database

---

## Usage

### Manual Invocation

```bash
/bash-command-safety
```text

### Automatic Activation
This skill activates automatically when:
- Pattern is detected in real-time
- Efficiency audit is running
- Self-improvement cycle is active

---

## Examples

### Before (Inefficient)
```json
[Pattern-specific bad example extracted from history]
```text

### After (Optimised)
```json
[Pattern-specific good example based on remediation]
```text

---

## Metrics

**Token Budget:** 5000

### Success Criteria:
- Pattern occurrences reduced by 80%+
- Token savings measurable in metrics
- No false positives blocking valid workflows

### Tracking:
Logged to `~/.claude/metrics.jsonl` with:
- `skill_triggered`: Skill activation count
- `tokens_saved`: Estimated savings
- `false_positives`: Invalid activations

---

## Integration

### CLAUDE.md Registration
Auto-added to skills list:
```markdown
- **bash-command-safety**: Using semicolon after command substitution causes parse error in eval contexts
```text

### Pattern Database
Registered in `~/.claude/patterns.json`:
```json
{
  "semicolon-after-subshell": {
    "skill": "bash-command-safety",
    "remediation": "",
    "status": "active"
  }
}
```text

---

## Meta-Optimization

This skill is subject to meta-analysis:
- **Usage tracking:** If triggered <3 times in 30 days → candidate for retirement
- **Effectiveness tracking:** If token savings <500/trigger → candidate for revision
- **False positive rate:** If >20% → threshold adjustment needed

### Self-improvement trigger:
Run `/audit-efficiency` to analyse this skill's performance and generate meta-improvements.

---

## Notes

- Auto-generated by self-improvement-engine
- Source pattern: semicolon-after-subshell
- Based on  severity violation
- Token impact per occurrence: 

### Maintenance:
- Review quarterly
- Update based on usage metrics
- Archive if unused for 90 days
